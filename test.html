<!DOCTYPE html>
<html>
<head>
	<title>Loan Amortization Schedule</title>
</head>
<body>
	<h1>Loan Amortization Schedule</h1>
	<form>
		<label for="loan-amount">Loan Amount:</label>
		<input type="number" id="loan-amount" name="loan-amount" required><br><br>

		<label for="interest-rate">Interest Rate (%):</label>
		<input type="number" id="interest-rate" name="interest-rate" required><br><br>

		<label for="loan-term">Loan Term (Months):</label>
		<input type="number" id="loan-term" name="loan-term" required><br><br>

		<label for="target-month">Target Month to Reach RM0.00 Balance:</label>
		<input type="number" id="target-month" name="target-month" required><br><br>

		<button type="submit" onclick="generateAmortizationSchedule()">Generate Amortization Schedule</button>
	</form>

	<div id="amortization-schedule">
		<!-- The table generated by JavaScript will be inserted here -->
	</div>

	<script>
  
		function generateAmortizationSchedule() {
			// Get input values
			var loanAmount = document.getElementById("loan-amount").value;
			var interestRate = document.getElementById("interest-rate").value / 100 / 12;
			var loanTerm = document.getElementById("loan-term").value;
			var targetMonth = document.getElementById("target-month").value;

			// Calculate monthly payment
			var monthlyPayment = loanAmount * interestRate * Math.pow(1 + interestRate, loanTerm) / (Math.pow(1 + interestRate, loanTerm) - 1);

			// Initialize variables
			var balance = loanAmount;
			var totalInterest = 0;
			var table = "<table><tr><th>Month</th><th>Payment</th><th>Principal</th><th>Interest</th><th>Balance</th></tr>";

			// Generate amortization schedule
			for (var i = 1; i <= loanTerm; i++) {
				var interest = balance * interestRate;
				var principal = monthlyPayment - interest;

				// Check if the balance is less than the monthly payment
				if (balance < monthlyPayment) {
					monthlyPayment = balance + interest;
					principal = balance;
				}

				// Check if the target month is reached and the balance is zero
				if (i >= targetMonth && balance <= 0) {
					break;
				}

				balance -= principal;
				totalInterest += interest;

				table += "<tr><td>" + i + "</td><td>RM " + monthlyPayment.toFixed(2) + "</td><td>RM " + principal.toFixed(2) + "</td><td>RM " + interest.toFixed(2) + "</td><td>RM " + balance.toFixed(2) + "</td></tr>";
			}

			table += "</table>";

			// Display amortization schedule
			document.getElementById("amortization-schedule").innerHTML = table;
		}
	</script>
</body>
</html>
